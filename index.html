<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>FÃ³rum simples</title>

<style>
body {
  background: #111;
  color: #fff;
  font-family: Arial;
  padding: 20px;
}
input, textarea, button {
  width: 100%;
  margin: 5px 0;
  padding: 10px;
}
.post {
  background: #222;
  padding: 10px;
  margin-top: 10px;
  border-radius: 5px;
}
.nome {
  color: #00ff88;
  font-weight: bold;
}
</style>
</head>

<body>

<h2>ðŸ’¬ FÃ³rum simples</h2>

<input id="nome" placeholder="Seu nome">
<textarea id="texto" placeholder="Digite sua mensagem"></textarea>
<button onclick="postar()">Postar</button>

<div id="forum"></div>

<script>
const API = "https://forumdb.ruillegame.workers.dev";

async function postar() {
  await fetch(API + "/post", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      nome: nome.value,
      texto: texto.value
    })
  });

  texto.value = "";
  carregar();
}

async function carregar() {
  const res = await fetch(API + "/list");
  const dados = await res.json();

  forum.innerHTML = "";
  dados.forEach(m => {
    forum.innerHTML += `
      <div class="post">
        <div class="nome">${m.nome}</div>
        <div>${m.texto}</div>
        <small>${m.data}</small>
      </div>
    `;
  });
}

carregar();
</script>

</body>
</html>
